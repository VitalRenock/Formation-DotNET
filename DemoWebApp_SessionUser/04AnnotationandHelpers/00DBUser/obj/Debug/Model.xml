<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="2.9" DspName="Microsoft.Data.Tools.Schema.Sql.Sql130DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False" xmlns="http://schemas.microsoft.com/sqlserver/dac/Serialization/2012/02">
	<Header>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="130" />
		</CustomData>
		<CustomData Category="Reference" Type="Assembly">
			<Metadata Name="LogicalName" Value="_00DBUser.dll" />
			<Metadata Name="FileName" Value="C:\USERS\RENAU\ONEDRIVE\PROJETS\SESSIONUSER\04ANNOTATIONANDHELPERS\00DBUSER\OBJ\DEBUG\_00DBUSER.DLL" />
			<Metadata Name="AssemblyName" Value="_00DBUser" />
			<Metadata Name="PermissionSet" Value="SAFE" />
			<Metadata Name="Owner" Value="" />
			<Metadata Name="GenerateSqlClrDdl" Value="True" />
			<Metadata Name="IsVisible" Value="True" />
			<Metadata Name="IsModelAware" Value="True" />
			<Metadata Name="SkipCreationIfEmpty" Value="True" />
			<Metadata Name="AssemblySymbolsName" Value="C:\Users\renau\OneDrive\Projets\SessionUser\04AnnotationandHelpers\00DBUser\obj\Debug\_00DBUser.pdb" />
		</CustomData>
		<CustomData Category="SqlCmdVariables" Type="SqlCmdVariable" />
	</Header>
	<Model>
		<Element Type="SqlDatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Property Name="DefaultLanguage" Value="" />
			<Property Name="DefaultFullTextLanguage" Value="" />
			<Property Name="QueryStoreStaleQueryThreshold" Value="367" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlPrimaryKeyConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UserRight].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
		</Element>
		<Element Type="SqlUniqueConstraint">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[UserRight].[Right]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspUser]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Mail]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Password]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[varbinary]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Salt]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[LastName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[FirstName]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[BirthDate]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[RegNational]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="11" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Bio]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="120" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser].[Disabled]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Scale" Value="7" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime2]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[AspUser_UserRight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser_UserRight].[IdUser]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[AspUser_UserRight].[IdRight]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="SqlCheckConstraint" Name="[dbo].[CK_AspUser_BirthDate]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[DATEDIFF(YEAR,[BirthDate],GETDATE()) > 16]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[AspUser].[BirthDate]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="5" />
		</Element>
		<Element Type="SqlCheckConstraint" Name="[dbo].[CK_AspUser_RegNational]">
			<Property Name="CheckExpressionScript">
				<Value><![CDATA[ISNUMERIC([RegNational]) = 1]]></Value>
			</Property>
			<Relationship Name="CheckExpressionDependencies">
				<Entry>
					<References Name="[dbo].[AspUser].[RegNational]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="7" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_ToRightId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="SqlForeignKeyConstraint" Name="[dbo].[FK_ToUserId]">
			<Relationship Name="Columns">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignColumns">
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="ForeignTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AspUser]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspUser].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="9" />
		</Element>
		<Element Type="SqlPrimaryKeyConstraint" Name="[dbo].[PK_AspUser_UserRight]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="10" />
		</Element>
		<Element Type="SqlScalarFunction" Name="[dbo].[SF_SaltAndHash]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[nvarchar]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SF_SaltAndHash].[@salt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SF_SaltAndHash].[@value]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="SqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @encrypted NVARCHAR(68);
	SET @encrypted = CONCAT(@salt,@value);
	RETURN HASHBYTES('SHA2_512', @encrypted)
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="250" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[SF_SaltAndHash]&#xD;&#xA;(&#xD;&#xA;&#x9;@value NVARCHAR(32),&#xD;&#xA;&#x9;@salt UNIQUEIDENTIFIER&#xD;&#xA;)&#xD;&#xA;RETURNS VARBINARY(32)&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SF_SaltAndHash].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SF_SaltAndHash].[@salt]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="SqlTypeSpecifier">
						<Property Name="Length" Value="32" />
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[varbinary]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_CheckPassword]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT Id
		FROM AspUser
		WHERE [Mail] = @identifier
			AND [Password] = [dbo].SF_SaltAndHash(@password,[Salt])
			AND [Disabled] IS NULL
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Mail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_CheckPassword].[@identifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SF_SaltAndHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_CheckPassword].[@password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Salt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Disabled]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_CheckPassword].[@identifier]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_CheckPassword].[@password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="262" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_CheckPassword]&#xD;&#xA;&#x9;@identifier NVARCHAR(256),&#xD;&#xA;&#x9;@password NVARCHAR(32)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_Delete]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE AspUser
		SET [Disabled] = GETDATE()
		WHERE [Id] = @id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Disabled]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Delete].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Delete].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="133" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_Delete]&#xD;&#xA;&#x9;@id INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_GetAll]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT * FROM V_AspUser_Enable
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[V_AspUser_Enable]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="89" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_GetAll]&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_GetById]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT * FROM V_AspUser_Enable WHERE Id = @id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[V_AspUser_Enable]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[V_AspUser_Enable].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_GetById].[@id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_GetById].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="115" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_GetById]&#xD;&#xA;&#x9;@id INT&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_HaveAdminRight]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT IdUser FROM AspUser_UserRight WHERE IdRight =(
		SELECT Id FROM UserRight WHERE [Right] LIKE 'Admin'
	)
	AND IdUser = @userid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_HaveAdminRight].[@userid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_HaveAdminRight].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="220" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_HaveAdminRight]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_HaveDefaultRight]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT IdUser FROM AspUser_UserRight WHERE IdRight =(
		SELECT Id FROM UserRight WHERE [Right] LIKE 'Default'
	)
	AND IdUser = @userid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_HaveDefaultRight].[@userid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_HaveDefaultRight].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="224" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_HaveDefaultRight]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_Insert]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @uid UNIQUEIDENTIFIER;
	SET @uid = NEWID();
	INSERT INTO AspUser(
		[Mail],
		[Password],
		[Salt],
		[LastName],
		[FirstName],
		[BirthDate],
		[RegNational],
		[Bio])
	OUTPUT inserted.[Id]
	VALUES (
		@mail,
		[dbo].SF_SaltAndHash(@password,@uid),
		@uid,
		@lastname,
		@firstname,
		@birthdate,
		@regnational,
		@bio)
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[uniqueidentifier]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Mail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Salt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[BirthDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[RegNational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Bio]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@mail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SF_SaltAndHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@lastname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@firstname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@birthdate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@regnational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Insert].[@bio]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@mail]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="256" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@lastname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@firstname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@birthdate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@regnational]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="11" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Insert].[@bio]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="120" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="577" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_Insert]&#xD;&#xA;&#x9;@mail NVARCHAR(256),&#xD;&#xA;&#x9;@password NVARCHAR(32),&#xD;&#xA;&#x9;@lastname NVARCHAR(64),&#xD;&#xA;&#x9;@firstname NVARCHAR(64),&#xD;&#xA;&#x9;@birthdate DATE,&#xD;&#xA;&#x9;@regnational CHAR(11),&#xD;&#xA;&#x9;@bio NVARCHAR(120)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_AspUser_Update]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE AspUser
	SET LastName = @lastname,
		FirstName = @firstname,
		[Password] = [dbo].SF_SaltAndHash(@password,[Salt]),
		BirthDate = @birthdate,
		RegNational = @regnational,
		Bio = @bio
	WHERE Id = @id
		AND [Disabled] IS NULL
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@lastname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@firstname]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SF_SaltAndHash]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@password]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Salt]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[BirthDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@birthdate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[RegNational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@regnational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Bio]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@bio]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_AspUser_Update].[@id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Disabled]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@id]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@password]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="32" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@lastname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@firstname]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="64" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@birthdate]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[date]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@regnational]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="11" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[char]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_AspUser_Update].[@bio]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="120" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="454" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_AspUser_Update]&#xD;&#xA;&#x9;@id INT,&#xD;&#xA;&#x9;@password NVARCHAR(32),&#xD;&#xA;&#x9;@lastname NVARCHAR(64),&#xD;&#xA;&#x9;@firstname NVARCHAR(64),&#xD;&#xA;&#x9;@birthdate DATE,&#xD;&#xA;&#x9;@regnational CHAR(11),&#xD;&#xA;&#x9;@bio NVARCHAR(120)&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_UserRight_DenyAdmin]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF EXISTS 
	(
		SELECT * FROM AspUser_UserRight 
			WHERE IdRight = (SELECT Id FROM UserRight 
								WHERE [Right] LIKE 'Admin')
			AND IdUser = @userid
	)
		
	DELETE FROM AspUser_UserRight 
		WHERE IdUser = @userid
		AND IdRight = (SELECT Id FROM UserRight 
							WHERE [Right] LIKE 'Admin')
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_UserRight_DenyAdmin].[@userid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_UserRight_DenyAdmin].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="388" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_UserRight_DenyAdmin]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_UserRight_DenyDefault]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF EXISTS 
	(
		SELECT * FROM AspUser_UserRight 
			WHERE IdRight = (SELECT Id FROM UserRight 
									WHERE [Right] LIKE 'Default')
			AND IdUser = @userid
	)

	DELETE FROM AspUser_UserRight 
	WHERE IdUser = @userid
		AND IdRight = (SELECT Id 
							FROM UserRight 
							WHERE [Right] LIKE 'Default')
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_UserRight_DenyDefault].[@userid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_UserRight_DenyDefault].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="401" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_UserRight_DenyDefault]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_UserRight_GrantAdmin]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF NOT EXISTS 
	(
		SELECT * FROM AspUser_UserRight 
			WHERE IdRight = (SELECT Id FROM UserRight WHERE [Right] LIKE 'Admin')
			AND IdUser = @userid
	)

	INSERT INTO AspUser_UserRight VALUES (@userid,
		(SELECT Id FROM UserRight WHERE [Right] LIKE 'Admin'))
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_UserRight_GrantAdmin].[@userid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_UserRight_GrantAdmin].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="349" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_UserRight_GrantAdmin]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlProcedure" Name="[dbo].[SP_UserRight_GrantDefault]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF NOT EXISTS 
	(
		SELECT * FROM AspUser_UserRight 
			WHERE IdRight = (SELECT Id FROM UserRight WHERE [Right] LIKE 'Default')
			AND IdUser = @userid
	)

	INSERT INTO AspUser_UserRight VALUES 
		(@userid, (SELECT Id FROM UserRight WHERE [Right] LIKE 'Default'))
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight].[IdUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SP_UserRight_GrantDefault].[@userid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser_UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UserRight].[Right]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="SqlSubroutineParameter" Name="[dbo].[SP_UserRight_GrantDefault].[@userid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="356" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SP_UserRight_GrantDefault]&#xD;&#xA;&#x9;@userid INTEGER&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[dbo].[UK_AspUser_Email]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspUser].[Mail]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="6" />
		</Element>
		<Element Type="SqlUniqueConstraint" Name="[dbo].[UK_AspUser_RegNational]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="SqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[AspUser].[RegNational]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="8" />
		</Element>
		<Element Type="SqlTable" Name="[dbo].[UserRight]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UserRight].[Id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="3" />
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlSimpleColumn" Name="[dbo].[UserRight].[Right]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="SqlTypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="4" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="SqlView" Name="[dbo].[V_AspUser_Enable]">
			<Property Name="QueryScript">
				<Value><![CDATA[	SELECT 
			[Id],
			[Mail],
			'********' AS [Password],
			[LastName],
			[FirstName],
			[BirthDate],
			[RegNational],
			[Bio]
		FROM AspUser
		WHERE [Disabled] IS NULL]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[Id]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[Id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[Mail]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[Mail]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[Password]" />
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[LastName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[LastName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[FirstName]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[FirstName]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[BirthDate]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[BirthDate]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[RegNational]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[RegNational]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="SqlComputedColumn" Name="[dbo].[V_AspUser_Enable].[Bio]">
						<Relationship Name="ExpressionDependencies">
							<Entry>
								<References Name="[dbo].[AspUser].[Bio]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="QueryDependencies">
				<Entry>
					<References Name="[dbo].[AspUser]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Mail]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[LastName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[FirstName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[BirthDate]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[RegNational]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Bio]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AspUser].[Disabled]" />
				</Entry>
			</Relationship>
			<Relationship Name="Schema">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="224" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE VIEW [dbo].[V_AspUser_Enable]&#xD;&#xA;&#x9;AS" />
			</Annotation>
		</Element>
	</Model>
</DataSchemaModel>